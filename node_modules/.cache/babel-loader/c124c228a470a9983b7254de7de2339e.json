{"ast":null,"code":"import { ordersAPI } from \"../api/api\";\nconst SET_ORDERS = 'SET_ORDERS';\nconst SET_OFFSET = 'SET_OFFSET';\nlet initialState = {\n  orders: [],\n  offset: 0,\n  limit: 3\n};\n\nconst orderReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_ORDERS:\n      let newOrders = {\n        orders: action.orders\n      };\n      let stateCopy = { ...state\n      };\n      stateCopy.orders = [...state.orders];\n      newOrders.orders.map(order => stateCopy.orders.push(order));\n      return stateCopy;\n\n    case SET_OFFSET:\n      return { ...state,\n        offset: action.offset\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default orderReducer;\nexport const setOrders = orders => ({\n  type: SET_ORDERS,\n  orders\n});\nexport const setOffset = offset => ({\n  type: SET_OFFSET,\n  offset\n});\nexport const getOrders = (offset, limit) => {\n  return dispatch => {\n    ordersAPI.getOrdersAPI(offset, limit).then(data => {\n      dispatch(setOrders(data));\n    });\n  };\n};","map":{"version":3,"names":["ordersAPI","SET_ORDERS","SET_OFFSET","initialState","orders","offset","limit","orderReducer","state","action","type","newOrders","stateCopy","map","order","push","setOrders","setOffset","getOrders","dispatch","getOrdersAPI","then","data"],"sources":["/Users/anton_kamarhin/Desktop/study/p-2/food-delivery-fe/food-delivery-fe/src/redux/orders-reducer.js"],"sourcesContent":["import {ordersAPI} from \"../api/api\";\n\nconst SET_ORDERS = 'SET_ORDERS';\nconst SET_OFFSET = 'SET_OFFSET';\n\nlet initialState = {\n    orders: [],\n    offset: 0,\n    limit: 3\n}\n\nconst orderReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_ORDERS :\n            let newOrders = {orders: action.orders};\n            let stateCopy = {...state};\n            stateCopy.orders = [...state.orders];\n            newOrders.orders.map(order => stateCopy.orders.push(order))\n            return stateCopy;\n        case SET_OFFSET:\n            return {...state, offset: action.offset}\n        default:\n            return state;\n    }\n}\n\nexport default orderReducer;\n\nexport const setOrders = (orders) => ({type: SET_ORDERS, orders})\nexport const setOffset = (offset) => ({type: SET_OFFSET, offset})\n\nexport const getOrders= (offset, limit) => {\n    return (dispatch) => {\n        ordersAPI.getOrdersAPI(offset, limit).then(data => {\n            dispatch(setOrders(data))\n        })\n    }\n}\n"],"mappings":"AAAA,SAAQA,SAAR,QAAwB,YAAxB;AAEA,MAAMC,UAAU,GAAG,YAAnB;AACA,MAAMC,UAAU,GAAG,YAAnB;AAEA,IAAIC,YAAY,GAAG;EACfC,MAAM,EAAE,EADO;EAEfC,MAAM,EAAE,CAFO;EAGfC,KAAK,EAAE;AAHQ,CAAnB;;AAMA,MAAMC,YAAY,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EACnD,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKT,UAAL;MACI,IAAIU,SAAS,GAAG;QAACP,MAAM,EAAEK,MAAM,CAACL;MAAhB,CAAhB;MACA,IAAIQ,SAAS,GAAG,EAAC,GAAGJ;MAAJ,CAAhB;MACAI,SAAS,CAACR,MAAV,GAAmB,CAAC,GAAGI,KAAK,CAACJ,MAAV,CAAnB;MACAO,SAAS,CAACP,MAAV,CAAiBS,GAAjB,CAAqBC,KAAK,IAAIF,SAAS,CAACR,MAAV,CAAiBW,IAAjB,CAAsBD,KAAtB,CAA9B;MACA,OAAOF,SAAP;;IACJ,KAAKV,UAAL;MACI,OAAO,EAAC,GAAGM,KAAJ;QAAWH,MAAM,EAAEI,MAAM,CAACJ;MAA1B,CAAP;;IACJ;MACI,OAAOG,KAAP;EAVR;AAYH,CAbD;;AAeA,eAAeD,YAAf;AAEA,OAAO,MAAMS,SAAS,GAAIZ,MAAD,KAAa;EAACM,IAAI,EAAET,UAAP;EAAmBG;AAAnB,CAAb,CAAlB;AACP,OAAO,MAAMa,SAAS,GAAIZ,MAAD,KAAa;EAACK,IAAI,EAAER,UAAP;EAAmBG;AAAnB,CAAb,CAAlB;AAEP,OAAO,MAAMa,SAAS,GAAE,CAACb,MAAD,EAASC,KAAT,KAAmB;EACvC,OAAQa,QAAD,IAAc;IACjBnB,SAAS,CAACoB,YAAV,CAAuBf,MAAvB,EAA+BC,KAA/B,EAAsCe,IAAtC,CAA2CC,IAAI,IAAI;MAC/CH,QAAQ,CAACH,SAAS,CAACM,IAAD,CAAV,CAAR;IACH,CAFD;EAGH,CAJD;AAKH,CANM"},"metadata":{},"sourceType":"module"}